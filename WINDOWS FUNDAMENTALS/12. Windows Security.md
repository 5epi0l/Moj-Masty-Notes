

### Security Identifier (SID)

A **SID (Security Identifier)** is a **unique, immutable identifier** that Windows assigns to:

- **Users**
    
- **Groups**
    
- **Computer accounts**
    
- **System services**

It’s how Windows keeps track of **who owns what** and **who has permission** to do what — not by name, but by this internal ID. 


These SIDs are added to the users's access token to identify all actions that the user is authorized to take. 





### Anatomy of a SID

Let's take a dummy SID into consideration

```Powershell
S-1-5-21-674899381-4069889467-2080702030-1002
```

| Number                          | Meaning              | Description                                                                                                                                                                                   |
| ------------------------------- | -------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| S                               | SID                  | Identifies the string as SID                                                                                                                                                                  |
| 1                               | Revision Level       | To date, this has always been 1                                                                                                                                                               |
| 5                               | Identifier-authority | A 48-bit string that identifies the authority (the computer/network) that created the SID                                                                                                     |
| 21                              | SubAuthority1        | A Variable Number that identifies the user's relation or group described by the SID to the authority that created it. It tells us the order in which the authority created the user's account |
| 674899381-4069889467-2080702030 | SubAuthority2        | Tells us which computer(or domain) created the number                                                                                                                                         |
| 1002                            | SubAuthority3        | The RID that distinguishes one account from another                                                                                                                                           |




### Security Account Manager (SAM) and Access Control Entries


- SAM manages user and network access to specific actions. 
- It does this using ACE. which are stored in Access Control Lists (ACL). These ACLs decide who can access files or run processes
- There are two types of ACLs :
	- DACL (Discretionary Access Control List) : Specifies who has permission to access an object (like a file or process)
	- SACL (System Access Control List) : Used for auditing and logging access to an object



When a user starts a process, it goes through an authorization check. This is done through Access tokens, which contains security information about the user and their permissions. The Local Security Authority (LSA) validates these tokens.